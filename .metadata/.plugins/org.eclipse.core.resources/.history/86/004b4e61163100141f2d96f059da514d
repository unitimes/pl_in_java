package chessgame;

import java.util.ArrayList;

import chessgame.piece.Pawn;
import chessgame.piece.Piece;
import core.Coordinate;

public class Board {
	final static int MAX_ROW = 8;
	final static int MAX_COL = 8;
	private Node[][] nodes;
	private Piece[][] grids;
	
	public Board () {
		nodes = new Node[MAX_ROW][MAX_COL];
		grids = new Piece[MAX_ROW][MAX_COL];
		setBoard();
	}
	
	//for BoardSetter Class
	void setBoard() {
		for(int i = 0; i < MAX_ROW; i++) {
			setNullRow(nodes[i]);
		}
	}
	
	void setNullRow(Node[] nullRow) {
		for(int i = 0; i < MAX_COL; i++) {
			nullRow[i] = new Node(null);
		}
	}
	//---------------------------------------//
	
	//for NodeSetter Class
	void setPawn(int row, int col) {
		nodes[row][col].setNode(new Pawn());
	}
	
	void setPawn2(int row, int col) {
		grids[row][col] = new Pawn();
	}
	
//	void setNull(Node targetNode) {
//		targetNode.setNode(null);
//	}
//	
//	void setPawn(Node targetNode) {
//		targetNode.setNode(new Pawn());
//	}
	//---------------------------------------//
	
	public Boolean isPlaced(int row, int col) {
		return nodes[row][col].isPlaced();
	}
	
	public Boolean isPlaced2(int row, int col) {
		return grids[row][col] != null;
	}

	public void searchMovibleGrids2(int row, int col) {
		ArrayList<Coordinate> movibleGrids;
		
		movibleGrids = grids[row][col].searchMovibleGrids(row, col, this);
		printGrids(movibleGrids);
	}
	
	public void searchMovibleGrids(int row, int col) {
		ArrayList<Coordinate> movibleGrids;
		
		movibleGrids = nodes[row][col].searchMovibleGrids(row, col, this);
		printGrids(movibleGrids);
	}

	private void printGrids(ArrayList<Coordinate> movibleGrids) {
		movibleGrids.forEach(g -> System.out.println(g.toString()));
	}
}
