package chessgame;

import java.util.Map;
import java.util.Set;

import chessgame.piece.Piece;
import core.Coordinate;

class MoveController {
	private Map<Coordinate, Piece> board;
	private Set<Coordinate> movibleGrids;

	MoveController(Map<Coordinate, Piece> board) {
		this.board = board;
	}
	
	Set<Coordinate> searchMovibleGrids(Coordinate piece) {
		return board.get(piece).searchMovibleGrids(piece, new StatusChecker(board));
	}

	void moveTo(Coordinate from, Coordinate to) {
		// Attack code
		if (board.containsKey(to)) {
			board.remove(to);
		}

		board.put(to, board.get(from));
		board.remove(from);
	}

	void makeMovibleGridsSet(Coordinate piece) {
		movibleGrids = searchMovibleGrids(piece);
	}
}
